<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Longest Increasing Continuous Subsequence II &middot; Geek Think</title>
    <meta name="generator" content="Hugo 0.14" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Rui&#39;s Blog">
    
    
    <link rel="icon" href="http://xmruibi.github.io/favicon.ico">
    <link rel="apple-touch-icon" href="http://xmruibi.github.io//apple-touch-icon.png" />
    <link rel="stylesheet" href="http://xmruibi.github.io/css/style.css">
    <link rel="stylesheet" href="http://xmruibi.github.io/css/search.css">
    <link rel="stylesheet" href="http://xmruibi.github.io/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://xmruibi.github.io/css/monokai.css">
    <link rel="stylesheet" href="http://xmruibi.github.io/fancybox/jquery.fancybox.css">
    <link href='https://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>
    <meta property="og:title" content="Longest Increasing Continuous Subsequence II" />
<meta property="og:description" content="Give you an integer matrix (with row size n, column size m)，find the longest increasing continuous subsequence in this matrix. (The definition of the longest increasing continuous subsequence here can start at any row or column and go up/down/right/left any direction).
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xmruibi.github.io/2015/10/16/longest-increasing-continuous-subsequence-ii/" />


<meta property="og:updated_time" content="2015-10-16T09:43:13-07:00"/>










    
    
<meta itemprop="name" content="Longest Increasing Continuous Subsequence II">
<meta itemprop="description" content="Give you an integer matrix (with row size n, column size m)，find the longest increasing continuous subsequence in this matrix. (The definition of the longest increasing continuous subsequence here can start at any row or column and go up/down/right/left any direction).
">


<meta itemprop="dateModified" content="2015-10-16T09:43:13-07:00" />
<meta itemprop="wordCount" content="321">



<meta itemprop="keywords" content="american,api-design,array,back-pack,backtracking,bfs,binary-search,binary-search-tree,binary-tree,bit-manipulation,bleve-search,bucket,bucket-sort,classical-problem,classification,collaborative-search-engine,combination,complex-implement,conclusion,configuration,data-structure,dfs,divide-and-conquer,divide-conquer,dummy-node,duplicates-remove,dynamic-programming,elastic-search,expression,go,graph,hadoop,hash-map,hash-table,heap,hugo,immutable,index-rotate,integer,interval-problem,iterator,java-basic,java-data-structure,javascript,linked-list,linkedlist,map-reduce,markdown,math,matrix,mongodb,object-oriented-programming,palindrome,pattern-match,permutation,polish-notation,prefix-sum,recursion,restful,reverse,road-trip,roman,segement-tree,sort,spring,stack,string,subarray,submatrix,subsequence,substring,tenary---binary,top-k,topological-sort,tree,tree-preorder,two-pointers,union-find,website-construction,algorithm,cloud-computing,design,devops,information-retrieval,java,javascript,leetcode,lintcode,machine-learning,restful,travel,web-development," />

    

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="Longest Increasing Continuous Subsequence II"/>
<meta name="twitter:description" content="Give you an integer matrix (with row size n, column size m)，find the longest increasing continuous subsequence in this matrix. (The definition of the longest increasing continuous subsequence here can start at any row or column and go up/down/right/left any direction).
"/>



</head>
<body>
<div class="container">

<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="http://xmruibi.github.io/" id="logo"><i class="logo" style="background-image: url('http://xmruibi.github.io/css/images/logo.png')"></i></a>
      <nav id="main-nav">
          
          
          <a class="main-nav-link" href="http://xmruibi.github.io/">Home</a>
          
          
          
          
          
          
          
          
          
          

          

          
          
          
          
          <a class="main-nav-link" href="http://xmruibi.github.io/code/">Project</a>
          
          
          
          <a class="main-nav-link" href="http://xmruibi.github.io/life/">Life</a>
          
          
          
          <a class="main-nav-link" href="http://xmruibi.github.io/tags/">Tags</a>
          
          
          
          <a class="main-nav-link" href="http://xmruibi.github.io/about">About</a>
          
          
      </nav>
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://www.gravatar.com/avatar/a0adf13b3b4e8724e9796567554973aa"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
        <div id="search-form-wrap">
          <form role="search" id="search">
            <input id="page" name="p" value="1" type="hidden"/>
            <input id="query" name="q" type="search" class="st-default-search-input" placeholder="Search">
          </form>
        </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tbody>
          <tr>
          
          
          <td><a class="main-nav-link" href="http://xmruibi.github.io/">Home</a></td>
          
          
          
          
          
          
          
          
          
          

          

          
          
          
          
          <td><a class="main-nav-link" href="http://xmruibi.github.io/code/">Project</a></td>
          
          
          
          <td><a class="main-nav-link" href="http://xmruibi.github.io/life/">Life</a></td>
          
          
          
          <td><a class="main-nav-link" href="http://xmruibi.github.io/tags/">Tags</a></td>
          
          
          
          <td><a class="main-nav-link" href="http://xmruibi.github.io/about">About</a></td>
          
          
          <td>
          <form role="search" id="search">
            <input id="page" name="p" value="1" type="hidden"/>
            <input id="query" name="q" type="search" class="st-default-search-input" placeholder="Search">
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</header>


<div id="container">
   <div class="outer">

    <section id="main_single_article">
    <article id="page-undefined" class="article article-type-page" itemscope="" itemprop="blogPost">
        <div class="article-inner">
            

            <header class="article-header">
    <a href="http://xmruibi.github.io/2015/10/16/longest-increasing-continuous-subsequence-ii/">
    <h1 class="article-title" itemprop="name">
        Longest Increasing Continuous Subsequence II
    </h1>
    </a>
    <div class="article-meta">
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2015-10-16 09:43:13 -0700 PDT" itemprop="datePublished">2015-10-16</time>
            &middot;
            321
            words
            &middot;
            2
            minute read
        </div>
        <div class="article-category">
            
            <i class="fa fa-folder"></i>
            <a class="article-category-link" href="http://xmruibi.github.io/topics/lintcode">Lintcode</a>
            
            <i class="fa fa-folder"></i>
            <a class="article-category-link" href="http://xmruibi.github.io/topics/algorithm">Algorithm</a>
            
        </div>
            <div class="article-category">                
               
            <i class="fa fa-tag"></i>        
            <a class="article-category-link" href="http://xmruibi.github.io/tags/matrix">Matrix</a>
               
            <i class="fa fa-tag"></i>        
            <a class="article-category-link" href="http://xmruibi.github.io/tags/subsequence">Subsequence</a>
               
            <i class="fa fa-tag"></i>        
            <a class="article-category-link" href="http://xmruibi.github.io/tags/dfs">DFS</a>
               
            <i class="fa fa-tag"></i>        
            <a class="article-category-link" href="http://xmruibi.github.io/tags/dynamic-programming">Dynamic Programming</a>
            
        </div>
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                

<p>Give you an integer matrix (with row size n, column size m)，find the longest increasing continuous subsequence in this matrix. (The definition of the longest increasing continuous subsequence here can start at any row or column and go up/down/right/left any direction).</p>

<h3 id="example:9321d1328289f6728c3ab40424379af8">Example</h3>

<p>Given a matrix:</p>

<pre><code>[
  [1 ,2 ,3 ,4 ,5],
  [16,17,24,23,6],
  [15,18,25,22,7],
  [14,19,20,21,8],
  [13,12,11,10,9]
]
</code></pre>

<p>return <code>25</code></p>

<h3 id="challenge:9321d1328289f6728c3ab40424379af8">Challenge</h3>

<p>O(nm) time and memory.</p>

<h2 id="solution:9321d1328289f6728c3ab40424379af8">Solution:</h2>

<ul>
<li>This is great question with DFS, Dynamic Problem and Subsequence idea.</li>
<li>The idea is also simple. Recursively search by DFS while we can do some memorized stuff.</li>
<li>Each time we figure out the maximum length with reversed increasing sequence from each element in matrix.</li>
<li>Note that the searching is by decreasing way.</li>
</ul>

<pre><code>public class Solution {
    /**
     * @param A an integer matrix
     * @return  an integer
     */
    // memorized the local maximum length
    int[][] memo;

    boolean[] visited;
    int n ,m;

    // stepping way for dfs
    int[] dx = {1,-1,0,0}; 
    int[] dy = {0,0,1,-1};

    public int longestIncreasingContinuousSubsequenceII(int[][] A) {
        if(A.length == 0)
            return 0;
        n = A.length;
        m  = A[0].length;
        
        memo = new int[n][m];
        visited = new boolean[n*m];
        
        int res = 0;
        for(int i = 0; i &lt; n; i++) {
            for(int j = 0; j &lt; m; j++) { 
                memo[i][j] = helper(i, j, A);
                res = Math.max(res, memo[i][j]);
            }
        }
        return res;
    }
    
    private int helper(int x, int y, int[][] A) {
        // once it touched the visited element, return that value
        if(visited[x * m + y])
            return memo[x][y];
        
        int res = 1; 
        for(int i = 0; i &lt; 4; i++) {
            int nx = x + dx[i];
            int ny = y + dy[i];
            if(0&lt;= nx &amp;&amp; nx &lt; n &amp;&amp; 0&lt;= ny &amp;&amp; ny &lt; m ) {
                // this is tricky point, we search by decreasing
                if( A[x][y] &gt; A[nx][ny]) 
                    res = Math.max(res,  helper(nx, ny, A) + 1);
            }
        }
        visited[x * m + y] = true;
        memo[x][y] = res;
        return res;
    }
}
</code></pre>

            </div>
            <footer class="article-footer">
    <a data-url="http://xmruibi.github.io/2015/10/16/longest-increasing-continuous-subsequence-ii/" data-id="9321d1328289f6728c3ab40424379af8" class="article-share-link">
        Share
    </a>
    
    <a href="http://xmruibi.github.io/2015/10/16/longest-increasing-continuous-subsequence-ii//#disqus_thread" class="article-comment-link">
        Comments
    </a>
    
</footer>

        </div>

        
<nav id="article-nav">
    
    <a href="http://xmruibi.github.io/2015/10/16/longest-increasing-continuous-subsequence/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Older
      </strong>
      <div class="article-nav-title">Longest Increasing Continuous subsequence</div>
    </a>
    

    
    <a href="http://xmruibi.github.io/2015/10/16/longest-common-subsequence/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Newer
      </strong>
      <div class="article-nav-title">Longest Common Subsequence</div>
    </a>
    
</nav>


    </article>
    <section id="comments">
        <div id="disqus_thread">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'ruisblog';
    var disqus_identifier = 'http:\/\/xmruibi.github.io\/2015\/10\/16\/longest-increasing-continuous-subsequence-ii\/';
    var disqus_title = 'Longest Increasing Continuous Subsequence II';
    var disqus_url = 'http:\/\/xmruibi.github.io\/2015\/10\/16\/longest-increasing-continuous-subsequence-ii\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </section>

</section>

    <aside id="sidebar">
	<div class="widget-wrap">
    <h3 class="widget-title">
    Table of Contents
    </h3>
     <div class="widget">
		<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#example:9321d1328289f6728c3ab40424379af8">Example</a></li>
<li><a href="#challenge:9321d1328289f6728c3ab40424379af8">Challenge</a></li>
</ul></li>
<li><a href="#solution:9321d1328289f6728c3ab40424379af8">Solution:</a></li>
</ul></li>
</ul>
</nav>
     </div>
</div>
	
    <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
</div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Rui Bi. Powered by <a href="//gohugo.io">Hugo</a>.
    </div>
  </div>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="http://xmruibi.github.io/fancybox/jquery.fancybox.pack.js"></script>
<script src="http://xmruibi.github.io/js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex2jax: {
      inlineMath: [ ['$$','$$'], ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  };
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','DEzVrzaxVLoB451jJ6Py','2.0.0');
</script>

</body>
</html>
